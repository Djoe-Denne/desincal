---
import Layout from '../../layouts/Layout.astro';
import PricingSection from '../../components/PricingSection';
import servicesData from '../../data/services.json';

const rongeurServices = servicesData.themes
  .find(theme => theme.id === 'deratisation')
  ?.services.map(service => ({
    title: service.subtitle,
    price: service.price,
    features: service.features,
    duration: service.duration,
    serviceId: service.id
  })) || [];

const pricingOptions = {
  title: "Tarifs et Prestations",
  subtitle: "Les tarifs varient selon la surface à traiter et l'importance de l'infestation. Une évaluation sur place peut être nécessaire.",
  options: rongeurServices,
  note: "* Les tarifs peuvent varier selon la configuration des lieux et le niveau d'infestation"
};

const title = "Dératisation Professionnelle Béziers | Élimination Rats & Souris | Desincal";
const description = "Service de dératisation professionnelle à Béziers et dans l'Hérault. Élimination efficace des rats et souris. Intervention rapide, devis gratuit, suivi personnalisé.";
const type = "article";
const canonicalUrl = "https://desincal.fr/info/rongeurs";
---

<Layout 
  title={title}
  description={description}
  type={type}
  canonicalUrl={canonicalUrl}
>
  <main class="pt-24 pb-16">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <div class="bg-gradient-to-r from-pest-dark to-pest-dark/90 text-white rounded-2xl p-8 mb-12">
          <h1 class="text-4xl font-bold mb-4">Dératisation Professionnelle</h1>
          <p class="text-xl text-white/90">Protection efficace contre les rongeurs nuisibles</p>
        </div>

        <div class="prose max-w-none">
          <div class="bg-red-50 border-l-4 border-red-500 p-6 rounded-r-lg mb-8">
            <h2 class="text-red-700 text-xl font-bold mb-2">⚠️ Danger sanitaire</h2>
            <p class="text-red-600">Les rongeurs peuvent transmettre des maladies graves et causer d'importants dégâts matériels. Une intervention rapide est essentielle.</p>
          </div>

          <img src="/rongeur/rat-cuisine-deratisation-beziers.jpg" 
               alt="Rat dans une cuisine - Service de dératisation à Béziers" 
               class="w-full rounded-lg mb-8" />

          <div class="bg-white rounded-xl shadow-lg p-6 border border-gray-100 mb-12">
            <h2 class="text-2xl font-bold text-pest-dark mb-6">Pourquoi agir rapidement ?</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div class="bg-red-50 rounded-lg p-4">
                <div class="flex items-start space-x-3">
                  <div class="bg-red-500 rounded-full p-2 mt-1">
                    <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-pest-dark">Dégâts matériels</h3>
                    <p class="text-sm text-gray-600">Rongement de câbles, meubles, cloisons</p>
                  </div>
                </div>
              </div>
              
              <div class="bg-red-50 rounded-lg p-4">
                <div class="flex items-start space-x-3">
                  <div class="bg-red-500 rounded-full p-2 mt-1">
                    <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-pest-dark">Risques sanitaires</h3>
                    <p class="text-sm text-gray-600">Leptospirose, salmonellose</p>
                  </div>
                </div>
              </div>
              
              <div class="bg-red-50 rounded-lg p-4">
                <div class="flex items-start space-x-3">
                  <div class="bg-red-500 rounded-full p-2 mt-1">
                    <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-pest-dark">Contamination</h3>
                    <p class="text-sm text-gray-600">Aliments contaminés par excréments</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <PricingSection 
            title={pricingOptions.title}
            subtitle={pricingOptions.subtitle}
            options={pricingOptions.options}
            note={pricingOptions.note}
            client:load
          />

          <div class="bg-blue-50 rounded-xl p-6 mb-12">
            <h2 class="text-xl font-bold text-pest-dark mb-6">Comment éviter une infestation ?</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="space-y-3">
                <div class="flex items-start space-x-2">
                  <svg class="w-5 h-5 text-blue-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  <span>Contenants hermétiques pour aliments</span>
                </div>
                <div class="flex items-start space-x-2">
                  <svg class="w-5 h-5 text-blue-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  <span>Élimination des eaux stagnantes</span>
                </div>
              </div>
              <div class="space-y-3">
                <div class="flex items-start space-x-2">
                  <svg class="w-5 h-5 text-blue-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  <span>Colmatage des fissures</span>
                </div>
                <div class="flex items-start space-x-2">
                  <svg class="w-5 h-5 text-blue-500 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  <span>Nettoyage régulier</span>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-xl shadow-lg p-6 border border-gray-100 mb-12">
            <h2 class="text-2xl font-bold text-pest-dark mb-6">Pourquoi choisir Desincal ?</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex items-start space-x-3">
                  <div class="bg-pest-green rounded-full p-2 mt-1">
                    <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-pest-dark">Expertise certifiée</h3>
                    <p class="text-sm text-gray-600">Certification Certibiocide</p>
                  </div>
                </div>
              </div>
              
              <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex items-start space-x-3">
                  <div class="bg-pest-green rounded-full p-2 mt-1">
                    <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-pest-dark">Solutions adaptées</h3>
                    <p class="text-sm text-gray-600">Traitements personnalisés</p>
                  </div>
                </div>
              </div>
              
              <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex items-start space-x-3">
                  <div class="bg-pest-green rounded-full p-2 mt-1">
                    <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-pest-dark">Intervention rapide</h3>
                    <p class="text-sm text-gray-600">Rayon de 50 km</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-pest-dark text-white rounded-xl p-8 text-center">
            <h2 class="text-2xl font-bold mb-4">Besoin d'une intervention rapide ?</h2>
            <p class="mb-6">Nos experts sont à votre disposition pour éliminer efficacement les rongeurs</p>
            <a href="/?theme=deratisation#services" class="inline-block bg-pest-green text-white px-8 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-colors">
              Demandez votre devis
            </a>
          </div>
        </div>
      </div>
    </div>
  </main>
</Layout>

<script>
  // Handle pricing card clicks to set both theme and service
  document.addEventListener('DOMContentLoaded', () => {
    const pricingCards = document.querySelectorAll('[data-service-id]');
    pricingCards.forEach(card => {
      card.addEventListener('click', (e) => {
        const serviceId = (e.currentTarget as HTMLElement).dataset.serviceId;
        window.location.href = `/?theme=deratisation&service=${serviceId}#contact`;
      });
    });
  });
</script>